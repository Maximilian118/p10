@use '../../../scss/mixins';
@use '../../../scss/variables';

.badge {
  width: 42px;
  height: 42px;
  border-radius: 50%;
  position: relative;
  z-index: 2;
  cursor: pointer;
  flex-shrink: 0;

  .outer-ring {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    box-sizing: border-box;
    overflow: hidden;
    background: white;
    @include mixins.flexbox;
    position: relative;

    .badge-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      position: absolute;
    }

    // Hidden badge displays as mysterious dark circle with shimmer effect.
    .badge-hidden {
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 30% 30%, #1a1a2e 0%, #0a0a0f 100%);
      border-radius: 50%;
      position: relative;
      overflow: hidden;
      @include mixins.flexbox;

      // Animated shimmer sweep effect.
      &__shimmer {
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
          45deg,
          transparent 40%,
          rgba(255, 255, 255, 0.08) 50%,
          transparent 60%
        );
        animation: shimmer-sweep 3s ease-in-out infinite;
      }

      // Question mark styling.
      &__question {
        font-size: 20px;
        font-weight: 700;
        color: rgba(255, 255, 255, 0.5);
        z-index: 1;
        text-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
        animation: question-pulse 2s ease-in-out infinite;
      }
    }

    @keyframes shimmer-sweep {
      0% {
        transform: translateX(-30%) translateY(-30%) rotate(45deg);
      }
      100% {
        transform: translateX(30%) translateY(30%) rotate(45deg);
      }
    }

    @keyframes question-pulse {
      0%, 100% {
        opacity: 0.5;
        transform: scale(1);
      }
      50% {
        opacity: 0.8;
        transform: scale(1.05);
      }
    }

    .image-error {
      width: 100%;
      height: 100%;
      background: variables.$error;
      @include mixins.flexbox;

      p {
        color: white;
        font-size: 12px;
      }
    }
  }

  .edit-button {
    width: 100%;
    height: 100%;
    position: absolute;
    z-index: 5;
    background: variables.$mui-blue;
    color: white;
    opacity: 0;

    &:hover {
      background: variables.$mui-blue-hover;
      opacity: 1;
    }
  }
}